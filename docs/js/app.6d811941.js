(function(t){function e(e){for(var a,r,o=e[0],l=e[1],c=e[2],u=0,d=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);_&&_(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,o=1;o<s.length;o++){var l=s[o];0!==n[l]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},n={app:0},i=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/crypto-portfolio/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var _=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},2:function(t,e){},3:function(t,e){},3146:function(t){t.exports=JSON.parse('{"switch_chart":"チャート表示切り替え","tag":"タグ","asset":"トークン","wallet":"ウォレット","size":"サイズ","price":"価格","price_changes":"変化率%","notional_value":"価値","entry":"エントリー","pnl":"利益と損失","pnl_return":"リターン","note":"メモ","total_unrealized_pnl":"未実現損益合計","today_pnl":"今日の利益と損失","today_pnl_error_msg":"全てのアセットタイプが表示されている場合のみ有効な PnL です","update_time":"更新時刻","save":"保存","saved":"完了！","sec_ago":"秒前","date":"日付","nav":"純資産価値","nav_page":"純資産価値","diff":"日次利益と損失","estimate_total_cost":"総コスト見積り","export_as_csv":"CSV でエクスポート","dark_mode":"ダークモード","hide_small_balance":"小額残高を非表示 (純資産価値の 0.1% 未満）","show_return_in_small_device":"小型デバイスでリターン（%）を表示","is_merge_wallets":"パイチャートで同じコインのウォレットを統合する","language":"言語切り替え","timeframe":"価格変動に使用される時間枠","asset_type":"表示するアセットタイプ"}')},4:function(t,e){},"4362d":function(t,e,s){"use strict";s("52c6")},5:function(t,e){},"52c6":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),n=s("a925"),i=s("003c"),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Main")],1)},o=[],l=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"main"}},[e("div",{attrs:{id:"quick-access"}},[e("button",{staticClass:"btn setting-btn",on:{click:function(e){t.is_setting_mode=!t.is_setting_mode}}},[e("i",{staticClass:"fas fa-cog"})]),e("button",{directives:[{name:"show",rawName:"v-show",value:!t.is_nav_mode,expression:"!is_nav_mode"}],staticClass:"btn setting-btn",on:{click:function(e){t.is_exchange_chart=!t.is_exchange_chart}}},[t._v(" "+t._s(t.$t("switch_chart"))+" ")]),e("button",{staticClass:"btn setting-btn",on:{click:function(e){t.is_nav_mode=!t.is_nav_mode}}},[e("i",{staticClass:"fas fa-chart-line"})])]),e("setting",{attrs:{is_setting_mode:t.is_setting_mode,is_dark_mode:t.is_dark_mode,is_hide_small_balance:t.is_hide_small_balance,is_perfer_return:t.is_perfer_return,is_merge_wallets:t.is_merge_wallets,language:t.language,timeframe:t.timeframe,asset_type:t.asset_type},on:{"update:is_setting_mode":function(e){t.is_setting_mode=e},"update:is_dark_mode":function(e){t.is_dark_mode=e},"update:is_hide_small_balance":function(e){t.is_hide_small_balance=e},"update:is_perfer_return":function(e){t.is_perfer_return=e},"update:is_merge_wallets":function(e){t.is_merge_wallets=e},"update:language":function(e){t.language=e},"update:timeframe":function(e){t.timeframe=e},"update:asset_type":function(e){t.asset_type=e}}}),t.is_nav_mode?e("account-value",{attrs:{daily_nav:t.daily_nav,estimate_total_cost:t.estimate_total_cost}}):t._e(),t.is_nav_mode?t._e():e("div",[e("pie-chart",{attrs:{assets:t.chart_data}}),e("ul",t._l(t.assets,(function(s){return e("li",{directives:[{name:"show",rawName:"v-show",value:"APP_ERROR"==s.asset,expression:"asset.asset == 'APP_ERROR'"}],key:s.asset+s.wallet,staticClass:"sell"},[t._v(" "+t._s(s.wallet)+" KEY ERROR ")])})),0),e("table",{attrs:{id:"asset"}},[e("tr",[t.should_show("tag")?e("th",{on:{click:function(e){return t.change_sortkey("tag")}}},[t._v(" "+t._s(t.sorted_icon("tag"))+t._s(t.$t("tag"))+" ")]):t._e(),t.should_show("wallet")?e("th",{on:{click:function(e){return t.change_sortkey("wallet")}}},[t._v(" "+t._s(t.sorted_icon("wallet"))+t._s(t.$t("wallet"))+" ")]):t._e(),e("th",{on:{click:function(e){return t.change_sortkey("asset")}}},[t._v(" "+t._s(t.sorted_icon("asset"))+t._s(t.$t("asset"))+" ")]),t.should_show("price_changes")?e("th",{on:{click:function(e){return t.change_sortkey("price_changes")}}},[t._v(" "+t._s(t.sorted_icon("price_changes"))+t._s(t.timeframe)+" "+t._s(t.$t("price_changes"))+" ")]):t._e(),e("th",{on:{click:function(e){return t.change_sortkey("price")}}},[t._v(" "+t._s(t.sorted_icon("price"))+t._s(t.$t("price"))+" ")]),e("th",{on:{click:function(e){return t.change_sortkey("entry")}}},[t._v(" "+t._s(t.sorted_icon("entry"))+t._s(t.$t("entry"))+" ")]),e("th",{on:{click:function(e){return t.change_sortkey("size")}}},[t._v(" "+t._s(t.sorted_icon("size"))+t._s(t.$t("size"))+" ")]),e("th",{on:{click:function(e){return t.change_sortkey("notional_value")}}},[t._v(" "+t._s(t.sorted_icon("notional_value"))+t._s(t.$t("notional_value"))+" ")]),t.should_show("pnl")?e("th",{on:{click:function(e){return t.change_sortkey("pnl")}}},[t._v(" "+t._s(t.sorted_icon("pnl"))+t._s(t.$t("pnl"))+" ")]):t._e(),t.should_show("pnl_return")?e("th",{on:{click:function(e){return t.change_sortkey("pnl_return")}}},[t._v(" "+t._s(t.sorted_icon("pnl_return"))+t._s(t.$t("pnl_return"))+" ")]):t._e(),t.screen_width>500?e("th",[t._v(t._s(t.$t("note")))]):t._e()]),t._l(t.assets_table,(function(s){return e("tr",{directives:[{name:"show",rawName:"v-show",value:"APP_ERROR"!=s.asset&&(!t.is_hide_small_balance||s.size*s.price>t.small_balance_threshold),expression:"asset.asset != 'APP_ERROR' && (!is_hide_small_balance || asset.size * asset.price > small_balance_threshold)"}],key:s.asset+s.wallet},[t.should_show("tag")?e("td",{staticClass:"btn-tag",style:t.tagcolor(t.userdata[t.symbol_key(s.asset,s.wallet,"tag")]),on:{click:function(e){t.change_tag(t.symbol_key(s.asset,s.wallet,"tag"))}}},[t._v(" "+t._s(void 0!==t.userdata[t.symbol_key(s.asset,s.wallet,"tag")]?t.userdata[t.symbol_key(s.asset,s.wallet,"tag")]+1:"")+" ")]):t._e(),t.should_show("wallet")?e("td",[t._v(t._s(s.wallet))]):t._e(),e("td",[t._v(t._s(s.asset))]),t.should_show("price_changes")?e("td",{class:t.color(s.price_changes),staticStyle:{width:"0px"}},[t._v(" "+t._s(t._f("Precentage")(s.price_changes,1))+" ")]):t._e(),e("td",[t._v(t._s(t._f("toPrecision")(s.price,5)))]),e("td",{staticClass:"entry-price"},[e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.userdata[t.entry_k(s.asset,s.wallet)],expression:"userdata[entry_k(asset.asset, asset.wallet)]",modifiers:{lazy:!0}}],attrs:{type:"number"},domProps:{value:t.userdata[t.entry_k(s.asset,s.wallet)]},on:{change:function(e){t.$set(t.userdata,t.entry_k(s.asset,s.wallet),e.target.value)}}})]),e("td",{directives:[{name:"tooltip",rawName:"v-tooltip",value:s.size.toString(),expression:"asset.size.toString()"}]},[t._v(" "+t._s(t._f("nFormatter")(s.size,3))+" ")]),e("td",[t._v(t._s(t._f("Number")(s.notional_value,0)))]),t.should_show("pnl")?e("td",{class:t.color(s.pnl)},[t._v(" "+t._s(t._f("Number")(s.pnl,0))+" ")]):t._e(),t.should_show("pnl_return")?e("td",{class:t.color(s.pnl)},[t._v(" "+t._s(t._f("Precentage")(s.pnl_return,1))+" ")]):t._e(),t.screen_width>500?e("td",{staticClass:"entry-price",staticStyle:{"max-width":"200px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userdata[t.symbol_key(s.asset,s.wallet,"note")],expression:"userdata[symbol_key(asset.asset, asset.wallet, 'note')]"}],domProps:{value:t.userdata[t.symbol_key(s.asset,s.wallet,"note")]},on:{input:function(e){e.target.composing||t.$set(t.userdata,t.symbol_key(s.asset,s.wallet,"note"),e.target.value)}}})]):t._e()])}))],2),e("footer",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("ul",{staticStyle:{"list-style":"none","padding-left":"0"}},[e("li",[t._v(" "+t._s(t.$t("total_unrealized_pnl"))+": "),e("span",{class:t.color(t.sum_pnl(t.assets_table))},[t._v(" "+t._s(t._f("Number")(t.sum_pnl(t.assets_table),0))+" ")])]),e("li",[t._v(" "+t._s(t.$t("today_pnl"))+": "),"all"===t.asset_type?e("span",{class:t.color(t.today_pnl())},[t._v(" "+t._s(t._f("Number")(t.today_pnl(),0))+" ")]):t._e(),"all"!==t.asset_type?e("span",[t._v(" "+t._s(t.$t("today_pnl_error_msg"))+" ")]):t._e()]),e("li",[t._v(" "+t._s(t.$t("estimate_total_cost"))+": "),e("span",[t._v(" "+t._s(t._f("Number")(t.estimate_total_cost,0))+" ")])]),e("li",[e("Timer",{attrs:{time:t.time}})],1)]),e("button",{staticClass:"save",on:{click:t.save}},[t._v(" "+t._s(t.saved?t.$t("saved"):t.$t("save"))+" ")])])],1)],1)},c=[],_=(s("13d5"),s("5716"),s("be6f")),u=function(){var t=this,e=t._self._c;return e("highcharts",{staticStyle:{height:"400px",width:"500"},attrs:{id:"pie",options:t.chartOptions}})},d=[],p=s("d180"),h=s.n(p),m=s("93c6"),g=s.n(m),f=s("4452"),v={name:"PieChart",props:{assets:Array},components:{highcharts:f["Chart"]},data(){return{dragging:!1,chart_size:null,startAngle:0,startAngleOffset:0}},computed:{nav:function(){return h()(this.assets.map(({value:t})=>t))},chartOptions:function(){return{chart:{type:"pie",animation:!1},plotOptions:{pie:{size:"80%",innerSize:"80%",dataLabels:{distance:"2%",alignTo:"toPlotEdges",filter:{property:"percentage",operator:">",value:5},overflow:"allow",crop:!0}},series:{animation:{duration:500}}},title:{verticalAlign:"middle",floating:!0,text:"Total<br>$"+new Intl.NumberFormat("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}).format(this.nav)},tooltip:{pointFormat:"<b>{point.percentage:.1f}%</b><br><b>${point.y:.0f}</b>"},series:[{name:"",colorByPoint:!0,startAngle:this.startAngle,data:g()(this.assets,"value","desc").map(t=>[t.name,t.value])}]}}},methods:{getDegree(t){const e=t.offsetX?t.offsetX:t.touches[0].clientX,s=t.offsetY?t.offsetY:t.touches[0].clientY,[a,n]=this.chart_size,i=[a/2-e,n/2-s],r=Math.atan2(i[1],i[0]);return 57.29*r%360},startDrag(t){this.dragging=!0;const e=this.getDegree(t);this.startAngleOffset=this.startAngle-e},stopDrag(){this.dragging=!1},doDrag(t){if(this.dragging){const e=this.getDegree(t);this.startAngle=e+this.startAngleOffset}t.preventDefault(),t.stopImmediatePropagation()}},mounted(){const t=document.getElementById("pie");this.chart_size=[t.offsetWidth,t.offsetHeight],window.addEventListener("touchend",this.stopDrag,{passive:!1}),window.addEventListener("mouseup",this.stopDrag,{passive:!1}),t.addEventListener("mousedown",this.startDrag,{passive:!1}),t.addEventListener("mousemove",this.doDrag,{passive:!1}),t.addEventListener("touchstart",this.startDrag,{passive:!1}),t.addEventListener("touchmove",this.doDrag,{passive:!1})}},b=v,y=s("2877"),w=Object(y["a"])(b,u,d,!1,null,"25e3feab",null),k=w.exports,x=function(){var t=this,e=t._self._c;return e("div",[e("highcharts",{staticStyle:{height:"300px",width:"500"},attrs:{id:"account-nav",options:t.chartOptions}}),e("div",{staticClass:"flex-container"},[e("div",[e("button",{class:{selected:30===t.timeframe},on:{click:function(e){return t.pick_range(30)}}},[t._v(" 30d ")]),e("button",{class:{selected:90===t.timeframe},on:{click:function(e){return t.pick_range(90)}}},[t._v(" 90d ")]),e("button",{class:{selected:180===t.timeframe},on:{click:function(e){return t.pick_range(180)}}},[t._v(" 180d ")]),e("button",{class:{selected:void 0===t.timeframe},on:{click:function(e){return t.pick_range(void 0)}}},[t._v(" ALL ")])]),e("export-table",{attrs:{table_id:"nav-table"}})],1),e("table",{attrs:{id:"nav-table"}},[e("tr",[e("th",[t._v(t._s(t.$t("date")))]),e("th",[t._v(t._s(t.$t("nav")))]),e("th",[t._v(t._s(t.$t("diff")))])]),t._l(t.reversed_data,(function(s,a){return e("tr",{key:s[0]},[e("td",[t._v(t._s(s[0]))]),e("td",[t._v("$ "+t._s(t._f("Number")(s[1],0)))]),e("td",{class:t.color(t.dail_pnl(a))},[t._v(" "+t._s(t._f("Number")(t.dail_pnl(a),0))+" ")])])}))],2)],1)},$=[],S=(s("14d9"),s("5cd2")),O=s.n(S);async function C(t,e,s){const a=new O.a,n=new Set((await a.exchangeInfo()).symbols.map(t=>t.symbol));for(const r of t)if(~["USDT","USD"].indexOf(r))s[r]=0;else for(const t of["USDT","BTC","BNB"]){const o=`${r}${t}`;if(n.has(o))try{const t=await a.candles({symbol:o,interval:e,limit:2});s[r]=(parseFloat(t[1].close)-parseFloat(t[0].open))/parseFloat(t[0].open);break}catch(i){continue}}return s}const P={"30m":"30min","4h":"4hour","1d":"1day","1w":"1week"};async function j(t,e,s){for(const a of t){if("number"===typeof s[a])continue;const t=`period=${P[e]}&symbol=${a.toLowerCase()}usdt&size=2`,n=await(await fetch("https://api.huobi.pro/market/history/kline?"+t)).json();if("ok"!==n.status||n.data.length<2)continue;const i=n.data.reverse();s[a]=(i[1].close-i[0].open)/i[0].open}return s}async function A(t,e){t=[...new Set(t)];const s=await C(t,e,{}),a=await j(t,e,s);return a}function z(t,e=","){const s=document.querySelectorAll("table#"+t+" tr"),a=[];for(let o=0;o<s.length;o++){const t=[],n=s[o].querySelectorAll("td, th");for(let e=0;e<n.length;e++){let s=n[e].innerText.replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ");s=s.replace(/"/g,'""'),s=s.replace(/[,$]/g,""),t.push('"'+s+'"')}a.push(t.join(e))}const n=a.join("\n"),i=t+"_"+(new Date).getTime()+".csv",r=document.createElement("a");r.style.display="none",r.setAttribute("target","_blank"),r.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(n)),r.setAttribute("download",i),document.body.appendChild(r),r.click(),document.body.removeChild(r)}function N(t){const e=Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);return"$ "+e}var D=function(){var t=this,e=t._self._c;return e("button",{on:{click:t.download}},[t._v(t._s(t.$t("export_as_csv")))])},F=[],E={name:"ExportTable",props:{table_id:String},computed:{},methods:{download(){z(this.table_id)}},mounted(){}},T=E,R=Object(y["a"])(T,D,F,!1,null,"6ccc5614",null),M=R.exports,L=s("80f6"),B=s.n(L),I=s("1723"),U=s.n(I),V={name:"AccountValue",props:{daily_nav:Array,estimate_total_cost:Number},components:{highcharts:f["Chart"],ExportTable:M},data(){return{timeframe:30}},filters:{Number:(t,e)=>{if(void 0==t)return 0;const s="number"===typeof e?{maximumFractionDigits:e,minimumFractionDigits:e}:{};return new Intl.NumberFormat("en-US",s).format(t)}},computed:{reversed_data:function(){return this.daily_nav.slice().reverse().slice(0,this.timeframe)},chartOptions:function(){return{chart:{type:"area",animation:!1},legend:{enabled:!1},title:{text:this.$i18n.t("nav_page")},plotOptions:{areaspline:{threshold:null},series:{animation:{duration:500},marker:{radius:0},fillOpacity:0,dataLabels:{enabled:!0,verticalAlign:"top",y:-20,formatter:function(){if(this.y===this.series.dataMax)return N(this.y)}}}},xAxis:{type:"datetime",dateTimeLabelFormats:{day:"%d %b %Y"},labels:{rotation:0,format:"{value:%m-%d}"}},yAxis:{min:B()(this.reversed_data,t=>t[1])[1],max:U()(this.reversed_data,t=>t[1])[1],title:{enabled:!1},labels:{formatter:function(){return N(this.value)},style:{fontSize:9}}},tooltip:{pointFormat:"<b>${point.y:.0f}</b>"},series:[{name:this.$i18n.t("nav"),background:"#00f",fillOpacity:.3,data:this.daily_nav.map(t=>{const[e,s,a]=t[0].split("-");return[Date.UTC(e,+s-1,a),t[1]]}).slice(-this.timeframe)}]}}},methods:{dail_pnl(t){return this.reversed_data[t][1]-this.reversed_data[Math.min(t+1,this.reversed_data.length-1)][1]},color(t){return{buy:t>0,sell:t<0}},pick_range(t){this.timeframe=t}},mounted(){}},J=V,W=(s("4362d"),s("c36c"),Object(y["a"])(J,x,$,!1,null,"48de7efc",null)),K=W.exports,Y=function(){var t=this,e=t._self._c;return t.is_setting_mode?e("div",{staticClass:"modal",on:{click:function(e){return t.click("is_setting_mode")}}},[e("div",{staticClass:"modal-content",on:{click:t=>{t.stopImmediatePropagation()}}},[e("div",{staticClass:"setting-list"},[e("label",{staticClass:"switch"},[e("input",{attrs:{type:"checkbox"},domProps:{checked:t.is_dark_mode},on:{click:function(e){return t.click("is_dark_mode")}}}),e("span",{staticClass:"slider round"})]),e("span",[t._v(t._s(t.$t("dark_mode")))])]),e("div",{staticClass:"setting-list"},[e("label",{staticClass:"switch"},[e("input",{attrs:{type:"checkbox"},domProps:{checked:t.is_hide_small_balance},on:{click:function(e){return t.click("is_hide_small_balance")}}}),e("span",{staticClass:"slider round"})]),e("span",[t._v(t._s(t.$t("hide_small_balance")))])]),e("div",{staticClass:"setting-list"},[e("label",{staticClass:"switch"},[e("input",{attrs:{type:"checkbox"},domProps:{checked:t.is_perfer_return},on:{click:function(e){return t.click("is_perfer_return")}}}),e("span",{staticClass:"slider round"})]),e("span",[t._v(t._s(t.$t("show_return_in_small_device")))])]),e("div",{staticClass:"setting-list"},[e("label",{staticClass:"switch"},[e("input",{attrs:{type:"checkbox"},domProps:{checked:t.is_merge_wallets},on:{click:function(e){return t.click("is_merge_wallets")}}}),e("span",{staticClass:"slider round"})]),e("span",[t._v(t._s(t.$t("is_merge_wallets")))])]),e("hr"),e("div",{staticClass:"setting-list"},[e("div",[t._v(t._s(t.$t("language"))+":")]),e("button",{style:{background:"en"===t.language?"rgba(170, 170, 170, 0.603)":""},on:{click:function(e){return t.change_language("en")}}},[t._v(" English ")]),e("button",{style:{background:"zh"===t.language?"rgba(170, 170, 170, 0.603)":""},on:{click:function(e){return t.change_language("zh")}}},[t._v(" Chinese ")]),e("button",{style:{background:"jp"===t.language?"rgba(170, 170, 170, 0.603)":""},on:{click:function(e){return t.change_language("jp")}}},[t._v(" Japanese ")])]),e("div",{staticClass:"setting-list"},[e("div",[t._v(t._s(t.$t("timeframe"))+":")]),e("button",{style:{background:"30m"===t.timeframe?"rgba(170, 170, 170, 0.603)":""},on:{click:function(e){return t.change_timeframe("30m")}}},[t._v(" 30m ")]),e("button",{style:{background:"4h"===t.timeframe?"rgba(170, 170, 170, 0.603)":""},on:{click:function(e){return t.change_timeframe("4h")}}},[t._v(" 4h ")]),e("button",{style:{background:"1d"===t.timeframe?"rgba(170, 170, 170, 0.603)":""},on:{click:function(e){return t.change_timeframe("1d")}}},[t._v(" 1d ")]),e("button",{style:{background:"1w"===t.timeframe?"rgba(170, 170, 170, 0.603)":""},on:{click:function(e){return t.change_timeframe("1w")}}},[t._v(" 1w ")])]),e("div",{staticClass:"setting-list"},[e("div",[t._v(t._s(t.$t("asset_type"))+":")]),e("button",{style:{background:"all"===t.asset_type?"rgba(170, 170, 170, 0.603)":""},on:{click:function(e){return t.change_asset_type("all")}}},[t._v(" all ")]),e("button",{style:{background:"crypto"===t.asset_type?"rgba(170, 170, 170, 0.603)":""},on:{click:function(e){return t.change_asset_type("crypto")}}},[t._v(" crypto ")]),e("button",{style:{background:"stocks"===t.asset_type?"rgba(170, 170, 170, 0.603)":""},on:{click:function(e){return t.change_asset_type("stocks")}}},[t._v(" stocks ")])])])]):t._e()},q=[],X={name:"Setting",components:{},props:{is_setting_mode:Boolean,is_hide_small_balance:Boolean,is_dark_mode:Boolean,is_perfer_return:Boolean,is_merge_wallets:Boolean,language:String,timeframe:String,asset_type:String},data(){return{}},methods:{click(t){this.$emit("update:"+t,!this[t])},change_timeframe(t){this.$emit("update:timeframe",t)},change_asset_type(t){this.$emit("update:asset_type",t)},change_language(t){this.$emit("update:language",t)}}},G=X,H=(s("f161"),Object(y["a"])(G,Y,q,!1,null,"0a64e162",null)),Q=H.exports,Z=function(){var t=this,e=t._self._c;return e("span",[t._v(t._s(t.$t("update_time"))+": "+t._s(t.lastUpdate))])},tt=[],et=s("5a0c"),st=s.n(et);st()().format();var at={name:"Timer",props:{time:Number},data(){return{now:Date.now()}},computed:{lastUpdate(){const t=(st()(this.now)-st()(this.time))/1e3;return`${t.toFixed(0)} ${this.$i18n.t("sec_ago")}`}},created:function(){setInterval(()=>{this.now=Date.now()},1e3)}},nt=at,it=Object(y["a"])(nt,Z,tt,!1,null,null,null),rt=it.exports,ot=s("c707"),lt=s.n(ot),ct=s("589b"),_t=s("31cb"),ut=s("0829");Object(ct["f"])(_["a"]),Object(_t["a"])();const dt=Object(ut["c"])();var pt={name:"Main",components:{PieChart:k,AccountValue:K,Setting:Q,Timer:rt},props:{},data(){return{time:0,reported_total_cost:0,assets:[],assets_table:[],assets_chages:{},price_map:{},userdata:{},daily_nav:[],saved:!1,screen_width:0,is_setting_mode:!1,is_exchange_chart:!1,is_nav_mode:!1,is_hide_small_balance:"true"===localStorage.is_hide_small_balance,is_dark_mode:"true"===localStorage.is_dark_mode,is_perfer_return:"true"===localStorage.is_perfer_return,is_merge_wallets:"true"===localStorage.is_merge_wallets,language:localStorage.language||"en",timeframe:localStorage.timeframe||"1d",asset_type:localStorage.asset_type||"crypto",sort_key:"notional_value",sort_order:1}},computed:{id(){const t=new Proxy(new URLSearchParams(window.location.search),{get:(t,e)=>t.get(e)});return t.id||window.location.host},small_balance_threshold(){const t=h()(this.assets_table.map(t=>t.size*t.price));return.001*t},estimate_total_cost(){const t=h()(this.assets_table.map(t=>t.size*t.entry));return Math.max(t,this.reported_total_cost)},chart_data(){return this.is_exchange_chart?Object.values(this.assets_table.reduce((t,{wallet:e,notional_value:s})=>(t[e]={name:e,value:(t[e]?t[e].value:0)+s},t),{})):this.is_merge_wallets?Object.values(this.assets_table.reduce((t,{asset:e,notional_value:s})=>(t[e]={name:e,value:(t[e]?t[e].value:0)+s},t),{})):this.assets_table.map(t=>({name:t.asset,value:t.notional_value}))}},filters:{toFixed:(t,e=2)=>void 0==t?0:t.toFixed(e),toPrecision:(t,e)=>void 0==t||Math.abs(t)<1e-8?0:t.toPrecision(e),Number:(t,e)=>{if(void 0==t)return 0;const s="number"===typeof e?{maximumFractionDigits:e,minimumFractionDigits:e}:{};return new Intl.NumberFormat("en-US",s).format(t)},Precentage:(t,e=1)=>t===1/0?"Inf%":isNaN(t)?"--":(100*t||0).toFixed(e)+"%",nFormatter:(t,e)=>{const s=[{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e8,symbol:"B"}],a=/\.0+$|(\.[0-9]*[1-9])0+$/,n=s.slice().reverse().find((function(e){return t>=e.value}));return n?(t/n.value).toFixed(e-1).replace(a,"$1")+n.symbol:t.toFixed(e)}},methods:{async save(){const t=Object(ut["a"])(dt,"config/"+this.id);await Object(ut["e"])(t,this.userdata),this.saved=!0,setTimeout(()=>{this.saved=!1},5e3)},pnl(t){const{asset:e,size:s,wallet:a}=t;return this.entry_p(e,a)&&this.price_map[e]?s*(this.price_map[e]-this.entry_p(e,a)):0},pnl_return(t){const{asset:e,wallet:s}=t;return this.entry_p(e,s)&&this.price_map[e]?this.price_map[e]/this.entry_p(e,s)-1:0},sum_pnl(t){return h()(t.map(({asset:t,size:e,price:s,wallet:a})=>this.entry_p(t,a)?e*(s-this.entry_p(t,a)):0))},today_pnl(){return this.daily_nav.length<2?0:h()(this.assets_table.map(({price:t,size:e})=>t*e))-this.daily_nav[this.daily_nav.length-2][1]},tagcolor(t){const e=["#4059FB","#FF0000","#00EE00","#F1F605","#0EE5E4","#E65CA8","#757673","#F99700"];return{backgroundColor:e[t]}},color(t){return{buy:t>0,sell:t<0}},should_show(t){return this.screen_width>500||(this.is_perfer_return?"pnl_return"===t:"pnl"===t)},sorted_icon(t){return t!==this.sort_key||2===this.sort_order?"":1===this.sort_order?"↓":"↑"},change_sortkey(t){t===this.sort_key?this.sort_order=(this.sort_order+1)%2:this.sort_key=t,this.update_assets_table()},change_tag(t){this.sort_order=2,void 0!==this.userdata[t]?(this.userdata[t]=(this.userdata[t]+1)%9,8==this.userdata[t]&&delete this.userdata[t]):this.$set(this.userdata,t,0)},update_assets_table(){const t=this.assets.map(t=>({...t,tag:this.userdata[this.symbol_key(t.asset,t.wallet,"tag")],price:this.price_map[t.asset],price_changes:this.assets_chages[t.asset]||t.changepercent,notional_value:this.price_map[t.asset]*t.size,entry:this.entry_p(t.asset,t.wallet),pnl:this.pnl(t),pnl_return:this.pnl_return(t)})).filter(t=>"all"===this.asset_type||("stocks"===this.asset_type?"firstrade"===t.wallet:"firstrade"!==t.wallet));this.assets_table=g()(t,this.sort_key,1===this.sort_order?"desc":"asc")},symbol_key(t,e,s){return"binance"!==e?`${t}-${e}-${s}`:`${t}-${s}`},entry_k(t,e){return"binance"!==e?`${t}-${e}`:""+t},entry_p(t,e){const s="binance"!==e?`${t}-${e}`:""+t;return this.userdata[s]||0}},watch:{is_dark_mode:function(t){localStorage.is_dark_mode=t,document.documentElement.setAttribute("data-theme",t?"dark":"light")},is_hide_small_balance:function(t){localStorage.is_hide_small_balance=t},is_perfer_return:function(t){localStorage.is_perfer_return=t},is_merge_wallets:function(t){localStorage.is_merge_wallets=t},language:function(t){localStorage.language=t,this.$i18n.locale=t},timeframe:async function(t){localStorage.timeframe=t;const e=this.assets.filter(t=>"firstrade"!==t.wallet).map(t=>t.asset);this.assets_chages=await A(e,this.timeframe),this.update_assets_table()},asset_type:function(t){localStorage.asset_type=t,this.update_assets_table()}},mounted(){this.screen_width=window.innerWidth>0?window.innerWidth:screen.width,document.title=this.id.split(".")[0]+"'s Portfolio",document.documentElement.setAttribute("data-theme",this.is_dark_mode?"dark":"light")},created:async function(){this.$i18n.locale=this.language;const t=Object(ut["a"])(dt,"config/"+this.id),e=await Object(ut["b"])(t);e.exists()&&(this.userdata=e.data(),this.update_assets_table());const s=Object(ut["a"])(dt,"asset/"+this.id);Object(ut["d"])(s,async t=>{if(!t.exists())return;const{time:e,data:s,estimate_total_cost:a}=t.data();this.time=e,this.reported_total_cost=a,this.assets=s,this.update_assets_table()});const a=Object(ut["a"])(dt,"price/spot");Object(ut["d"])(a,async t=>{if(!t.exists())return;this.price_map=t.data(),this.update_assets_table();const e=this.assets.filter(t=>"firstrade"!==t.wallet).map(t=>t.asset);this.should_show("price_changes")&&(this.assets_chages=await A(e,this.timeframe)),this.update_assets_table()});const n=Object(ut["a"])(dt,"nav/"+this.id),i=await Object(ut["b"])(n);i.exists()&&(this.daily_nav=lt()(Object.entries(i.data()),t=>t[0]))}},ht=pt,mt=(s("8b3e"),Object(y["a"])(ht,l,c,!1,null,null,null)),gt=mt.exports,ft={name:"App",components:{Main:gt}},vt=ft,bt=Object(y["a"])(vt,r,o,!1,null,null,null),yt=bt.exports,wt=s("9483");Object(wt["a"])("/crypto-portfolio/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh."),window.location.reload()},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}}),a["default"].use(n["a"]),a["default"].use(i["a"]);const kt={en:s("e088"),zh:s("8066"),jp:s("3146")},xt=new n["a"]({locale:"en",messages:kt});new a["default"]({i18n:xt,render:t=>t(yt)}).$mount("#app")},6:function(t,e){},7:function(t,e){},"77be":function(t,e,s){},8:function(t,e){},8066:function(t){t.exports=JSON.parse('{"switch_chart":"切換圓餅圖視角","tag":"組","asset":"資產","wallet":"錢包","size":"量","price":"價","price_changes":"漲跌率","notional_value":"現值","entry":"入場價","pnl":"損益","pnl_return":"損益率","note":"備註","total_unrealized_pnl":"總未實現損益","today_pnl":"今日損益","today_pnl_error_msg":"今日損益只在顯示所有資產時有效","update_time":"更新時間","save":"儲存","saved":"已儲存！","sec_ago":"秒前","date":"日期","nav":"總資產","nav_page":"總資產走勢","diff":"日增減","estimate_total_cost":"預估總成本","export_as_csv":"匯出 CSV","dark_mode":"深色模式","hide_small_balance":"隱藏小額資產 (小於 0.1% 總資產)","show_return_in_small_device":"在小螢幕裝置上顯示損益率","is_merge_wallets":"在圓餅圖顯示總和幣種資產","language":"切換語言","timeframe":"價格變化率使用時框","asset_type":"顯示的資產類型"}')},"8b3e":function(t,e,s){"use strict";s("8bc2")},"8bc2":function(t,e,s){},9:function(t,e){},bb6b:function(t,e,s){},be6f:function(t){t.exports=JSON.parse('{"a":{"apiKey":"AIzaSyAiOeRX2NENGgKbW0VVQ4xR0gbPuyKJ5Ks","authDomain":"binance-portfolio-153c4.firebaseapp.com","projectId":"binance-portfolio-153c4","storageBucket":"binance-portfolio-153c4.appspot.com","messagingSenderId":"694089558371","appId":"1:694089558371:web:4e512f91c263ca77ad4b56","measurementId":"G-VT35JJGKW4"}}')},c36c:function(t,e,s){"use strict";s("77be")},e088:function(t){t.exports=JSON.parse('{"switch_chart":"Switch Chart View","tag":"Tag","asset":"Token","wallet":"Wallet","size":"Size","price":"Price","price_changes":"Chg%","notional_value":"Value","entry":"Entry","pnl":"PnL","pnl_return":"Return","note":"Note","total_unrealized_pnl":"Total Unrealized PnL","today_pnl":"Today PnL","today_pnl_error_msg":"PnL only valid when showing all asset type","update_time":"Update Time","save":"Save","saved":"Done !","sec_ago":"sec ago","date":"Date","nav":"Net Account Value","nav_page":"Net Account Value","diff":"Daily PnL","estimate_total_cost":"Estimated Total Cost","export_as_csv":"Export as CSV","dark_mode":"Dark Mode","hide_small_balance":"Hide Small Balance (less than 0.1% NAV)","show_return_in_small_device":"Show Return(%) in Small Device","is_merge_wallets":"Merge Same Coins in Wallets in Pie Chart","language":"Change language","timeframe":"Time-frame used for price changes","asset_type":"Asset type to show"}')},f161:function(t,e,s){"use strict";s("bb6b")}});