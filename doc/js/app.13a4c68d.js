(function(e){function t(t){for(var a,i,o=t[0],c=t[1],l=t[2],_=0,d=[];_<o.length;_++)i=o[_],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},s={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0271":function(e,t,n){},"0dde":function(e,t,n){"use strict";n("0271")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},2:function(e,t){},3:function(e,t){},"3a7d":function(e,t,n){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=n("a925"),r=n("003c"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Main")],1)},o=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"main"}},[n("div",{attrs:{id:"quick-access"}},[n("button",{staticClass:"btn setting-btn",on:{click:function(t){e.is_setting_mode=!e.is_setting_mode}}},[n("i",{staticClass:"fas fa-cog"})]),n("button",{directives:[{name:"show",rawName:"v-show",value:!e.is_nav_mode,expression:"!is_nav_mode"}],staticClass:"btn setting-btn",on:{click:function(t){e.is_exchange_chart=!e.is_exchange_chart}}},[e._v(" "+e._s(e.$t("switch_chart"))+" ")]),n("button",{staticClass:"btn setting-btn",on:{click:function(t){e.is_nav_mode=!e.is_nav_mode}}},[n("i",{staticClass:"fas fa-chart-line"})])]),n("setting",{attrs:{is_setting_mode:e.is_setting_mode,is_dark_mode:e.is_dark_mode,is_hide_small_balance:e.is_hide_small_balance,is_perfer_return:e.is_perfer_return,is_merge_wallets:e.is_merge_wallets,is_chinese:e.is_chinese,timeframe:e.timeframe,asset_type:e.asset_type},on:{"update:is_setting_mode":function(t){e.is_setting_mode=t},"update:is_dark_mode":function(t){e.is_dark_mode=t},"update:is_hide_small_balance":function(t){e.is_hide_small_balance=t},"update:is_perfer_return":function(t){e.is_perfer_return=t},"update:is_merge_wallets":function(t){e.is_merge_wallets=t},"update:is_chinese":function(t){e.is_chinese=t},"update:timeframe":function(t){e.timeframe=t},"update:asset_type":function(t){e.asset_type=t}}}),e.is_nav_mode?n("account-value",{attrs:{daily_nav:e.daily_nav,estimate_total_cost:e.estimate_total_cost}}):e._e(),e.is_nav_mode?e._e():n("div",[n("pie-chart",{attrs:{assets:e.chart_data}}),n("ul",e._l(e.assets,(function(t){return n("li",{directives:[{name:"show",rawName:"v-show",value:"APP_ERROR"==t.asset,expression:"asset.asset == 'APP_ERROR'"}],key:t.asset+t.wallet,staticClass:"sell"},[e._v(" "+e._s(t.wallet)+" KEY ERROR ")])})),0),n("table",{attrs:{id:"asset"}},[n("tr",[e.should_show("tag")?n("th",{on:{click:function(t){return e.change_sortkey("tag")}}},[e._v(" "+e._s(e.sorted_icon("tag"))+e._s(e.$t("tag"))+" ")]):e._e(),e.should_show("wallet")?n("th",{on:{click:function(t){return e.change_sortkey("wallet")}}},[e._v(" "+e._s(e.sorted_icon("wallet"))+e._s(e.$t("wallet"))+" ")]):e._e(),n("th",{on:{click:function(t){return e.change_sortkey("asset")}}},[e._v(" "+e._s(e.sorted_icon("asset"))+e._s(e.$t("asset"))+" ")]),e.should_show("price_changes")?n("th",{on:{click:function(t){return e.change_sortkey("price_changes")}}},[e._v(" "+e._s(e.sorted_icon("price_changes"))+e._s(e.timeframe)+" "+e._s(e.$t("price_changes"))+" ")]):e._e(),n("th",{on:{click:function(t){return e.change_sortkey("price")}}},[e._v(" "+e._s(e.sorted_icon("price"))+e._s(e.$t("price"))+" ")]),n("th",{on:{click:function(t){return e.change_sortkey("entry")}}},[e._v(" "+e._s(e.sorted_icon("entry"))+e._s(e.$t("entry"))+" ")]),n("th",{on:{click:function(t){return e.change_sortkey("size")}}},[e._v(" "+e._s(e.sorted_icon("size"))+e._s(e.$t("size"))+" ")]),n("th",{on:{click:function(t){return e.change_sortkey("notional_value")}}},[e._v(" "+e._s(e.sorted_icon("notional_value"))+e._s(e.$t("notional_value"))+" ")]),e.should_show("pnl")?n("th",{on:{click:function(t){return e.change_sortkey("pnl")}}},[e._v(" "+e._s(e.sorted_icon("pnl"))+e._s(e.$t("pnl"))+" ")]):e._e(),e.should_show("pnl_return")?n("th",{on:{click:function(t){return e.change_sortkey("pnl_return")}}},[e._v(" "+e._s(e.sorted_icon("pnl_return"))+e._s(e.$t("pnl_return"))+" ")]):e._e(),e.screen_width>500?n("th",[e._v(e._s(e.$t("note")))]):e._e()]),e._l(e.assets_table,(function(t){return n("tr",{directives:[{name:"show",rawName:"v-show",value:"APP_ERROR"!=t.asset&&(!e.is_hide_small_balance||t.size*t.price>e.small_balance_threshold),expression:"asset.asset != 'APP_ERROR' && (!is_hide_small_balance || asset.size * asset.price > small_balance_threshold)"}],key:t.asset+t.wallet},[e.should_show("tag")?n("td",{staticClass:"btn-tag",style:e.tagcolor(e.userdata[e.symbol_key(t.asset,t.wallet,"tag")]),on:{click:function(n){e.change_tag(e.symbol_key(t.asset,t.wallet,"tag"))}}},[e._v(" "+e._s(void 0!==e.userdata[e.symbol_key(t.asset,t.wallet,"tag")]?e.userdata[e.symbol_key(t.asset,t.wallet,"tag")]+1:"")+" ")]):e._e(),e.should_show("wallet")?n("td",[e._v(e._s(t.wallet))]):e._e(),n("td",[e._v(e._s(t.asset))]),e.should_show("price_changes")?n("td",{class:e.color(t.price_changes),staticStyle:{width:"0px"}},[e._v(" "+e._s(e._f("Precentage")(t.price_changes,1))+" ")]):e._e(),n("td",[e._v(e._s(e._f("toPrecision")(t.price,5)))]),n("td",{staticClass:"entry-price"},[n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.userdata[e.entry_k(t.asset,t.wallet)],expression:"userdata[entry_k(asset.asset, asset.wallet)]",modifiers:{lazy:!0}}],attrs:{type:"number"},domProps:{value:e.userdata[e.entry_k(t.asset,t.wallet)]},on:{change:function(n){e.$set(e.userdata,e.entry_k(t.asset,t.wallet),n.target.value)}}})]),n("td",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.size.toString(),expression:"asset.size.toString()"}]},[e._v(" "+e._s(e._f("nFormatter")(t.size,3))+" ")]),n("td",[e._v(e._s(e._f("Number")(t.notional_value,0)))]),e.should_show("pnl")?n("td",{class:e.color(t.pnl)},[e._v(" "+e._s(e._f("Number")(t.pnl,0))+" ")]):e._e(),e.should_show("pnl_return")?n("td",{class:e.color(t.pnl)},[e._v(" "+e._s(e._f("Precentage")(t.pnl_return,1))+" ")]):e._e(),e.screen_width>500?n("td",{staticClass:"entry-price",staticStyle:{"max-width":"200px"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.userdata[e.symbol_key(t.asset,t.wallet,"note")],expression:"userdata[symbol_key(asset.asset, asset.wallet, 'note')]"}],domProps:{value:e.userdata[e.symbol_key(t.asset,t.wallet,"note")]},on:{input:function(n){n.target.composing||e.$set(e.userdata,e.symbol_key(t.asset,t.wallet,"note"),n.target.value)}}})]):e._e()])}))],2),n("footer",{staticStyle:{display:"flex","justify-content":"space-between"}},[n("ul",{staticStyle:{"list-style":"none","padding-left":"0"}},[n("li",[e._v(" "+e._s(e.$t("total_unrealized_pnl"))+": "),n("span",{class:e.color(e.sum_pnl(e.assets_table))},[e._v(" "+e._s(e._f("Number")(e.sum_pnl(e.assets_table),0))+" ")])]),n("li",[e._v(" "+e._s(e.$t("today_pnl"))+": "),"all"===e.asset_type?n("span",{class:e.color(e.today_pnl())},[e._v(" "+e._s(e._f("Number")(e.today_pnl(),0))+" ")]):e._e(),"all"!==e.asset_type?n("span",[e._v(" "+e._s(e.$t("today_pnl_error_msg"))+" ")]):e._e()]),n("li",[e._v(" "+e._s(e.$t("estimate_total_cost"))+": "),n("span",[e._v(" "+e._s(e._f("Number")(e.estimate_total_cost,0))+" ")])]),n("li",[n("Timer",{attrs:{time:e.time}})],1)]),n("button",{staticClass:"save",on:{click:e.save}},[e._v(" "+e._s(e.saved?e.$t("saved"):e.$t("save"))+" ")])])],1)],1)},l=[],u=n("5530"),_=n("1da1"),d=(n("96cf"),n("d81d"),n("07ac"),n("b680"),n("7db0"),n("fb6a"),n("ac1f"),n("5319"),n("4de4"),n("99af"),n("1276"),n("4fad"),n("5716"),n("be6f")),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("highcharts",{staticStyle:{height:"400px",width:"500"},attrs:{id:"pie",options:e.chartOptions}})},h=[],f=n("3835"),m=(n("b0c0"),n("d180")),v=n.n(m),g=n("93c6"),b=n.n(g),y=n("4452"),w={name:"PieChart",props:{assets:Array},components:{highcharts:y["Chart"]},data:function(){return{dragging:!1,chart_size:null,startAngle:0,startAngleOffset:0}},computed:{nav:function(){return v()(this.assets.map((function(e){var t=e.value;return t})))},chartOptions:function(){return{chart:{type:"pie",animation:!1},plotOptions:{pie:{size:"80%",innerSize:"80%",dataLabels:{distance:"2%",alignTo:"toPlotEdges",filter:{property:"percentage",operator:">",value:5},overflow:"allow",crop:!0}},series:{animation:{duration:500}}},title:{verticalAlign:"middle",floating:!0,text:"Total<br>$".concat(new Intl.NumberFormat("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}).format(this.nav))},tooltip:{pointFormat:"<b>{point.percentage:.1f}%</b><br><b>${point.y:.0f}</b>"},series:[{name:"",colorByPoint:!0,startAngle:this.startAngle,data:b()(this.assets,"value","desc").map((function(e){return[e.name,e.value]}))}]}}},methods:{getDegree:function(e){var t=e.offsetX?e.offsetX:e.touches[0].clientX,n=e.offsetY?e.offsetY:e.touches[0].clientY,a=Object(f["a"])(this.chart_size,2),s=a[0],r=a[1],i=[s/2-t,r/2-n],o=Math.atan2(i[1],i[0]);return 57.29*o%360},startDrag:function(e){this.dragging=!0;var t=this.getDegree(e);this.startAngleOffset=this.startAngle-t},stopDrag:function(){this.dragging=!1},doDrag:function(e){if(this.dragging){var t=this.getDegree(e);this.startAngle=t+this.startAngleOffset}e.preventDefault(),e.stopImmediatePropagation()}},mounted:function(){var e=document.getElementById("pie");this.chart_size=[e.offsetWidth,e.offsetHeight],window.addEventListener("touchend",this.stopDrag,{passive:!1}),window.addEventListener("mouseup",this.stopDrag,{passive:!1}),e.addEventListener("mousedown",this.startDrag,{passive:!1}),e.addEventListener("mousemove",this.doDrag,{passive:!1}),e.addEventListener("touchstart",this.startDrag,{passive:!1}),e.addEventListener("touchmove",this.doDrag,{passive:!1})}},k=w,x=n("2877"),O=Object(x["a"])(k,p,h,!1,null,"25e3feab",null),S=O.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("highcharts",{staticStyle:{height:"300px",width:"500"},attrs:{id:"account-nav",options:e.chartOptions}}),n("div",{staticClass:"flex-container"},[n("div",[n("button",{class:{selected:30===e.timeframe},on:{click:function(t){return e.pick_range(30)}}},[e._v(" 30d ")]),n("button",{class:{selected:90===e.timeframe},on:{click:function(t){return e.pick_range(90)}}},[e._v(" 90d ")]),n("button",{class:{selected:180===e.timeframe},on:{click:function(t){return e.pick_range(180)}}},[e._v(" 180d ")]),n("button",{class:{selected:void 0===e.timeframe},on:{click:function(t){return e.pick_range(void 0)}}},[e._v(" ALL ")])]),n("export-table",{attrs:{table_id:"nav-table"}})],1),n("table",{attrs:{id:"nav-table"}},[n("tr",[n("th",[e._v(e._s(e.$t("date")))]),n("th",[e._v(e._s(e.$t("nav")))]),n("th",[e._v(e._s(e.$t("diff")))])]),e._l(e.reversed_data,(function(t,a){return n("tr",{key:t[0]},[n("td",[e._v(e._s(t[0]))]),n("td",[e._v("$ "+e._s(e._f("Number")(t[1],0)))]),n("td",{class:e.color(e.dail_pnl(a))},[e._v(" "+e._s(e._f("Number")(e.dail_pnl(a),0))+" ")])])}))],2)],1)},j=[],C=(n("a9e3"),n("2909")),P=n("b85c"),A=(n("a15b"),n("2af1"),n("d3b7"),n("6062"),n("3ca3"),n("ddb0"),n("5cd2")),E=n.n(A);function R(e,t,n){return N.apply(this,arguments)}function N(){return N=Object(_["a"])(regeneratorRuntime.mark((function e(t,n,a){var s,r,i,o,c,l,u,_,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=new E.a,e.t0=Set,e.next=4,s.exchangeInfo();case 4:e.t1=e.sent.symbols.map((function(e){return e.symbol})),r=new e.t0(e.t1),i=Object(P["a"])(t),e.prev=7,i.s();case 9:if((o=i.n()).done){e.next=36;break}if(c=o.value,!~["USDT","USD"].indexOf(c)){e.next=14;break}return a[c]=0,e.abrupt("continue",34);case 14:l=0,u=["USDT","BTC","BNB"];case 15:if(!(l<u.length)){e.next=34;break}if(_=u[l],d="".concat(c).concat(_),r.has(d)){e.next=20;break}return e.abrupt("continue",31);case 20:return e.prev=20,e.next=23,s.candles({symbol:d,interval:n,limit:2});case 23:return p=e.sent,a[c]=(parseFloat(p[1].close)-parseFloat(p[0].open))/parseFloat(p[0].open),e.abrupt("break",34);case 28:return e.prev=28,e.t2=e["catch"](20),e.abrupt("continue",31);case 31:l++,e.next=15;break;case 34:e.next=9;break;case 36:e.next=41;break;case 38:e.prev=38,e.t3=e["catch"](7),i.e(e.t3);case 41:return e.prev=41,i.f(),e.finish(41);case 44:return e.abrupt("return",a);case 45:case"end":return e.stop()}}),e,null,[[7,38,41,44],[20,28]])}))),N.apply(this,arguments)}var z={"30m":"30min","4h":"4hour","1d":"1day","1w":"1week"};function D(e,t,n){return F.apply(this,arguments)}function F(){return F=Object(_["a"])(regeneratorRuntime.mark((function e(t,n,a){var s,r,i,o,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=Object(P["a"])(t),e.prev=1,s.s();case 3:if((r=s.n()).done){e.next=19;break}if(i=r.value,"number"!==typeof a[i]){e.next=7;break}return e.abrupt("continue",17);case 7:return o="period=".concat(z[n],"&symbol=").concat(i.toLowerCase(),"usdt&size=2"),e.next=10,fetch("https://api.huobi.pro/market/history/kline?".concat(o));case 10:return e.next=12,e.sent.json();case 12:if(c=e.sent,!("ok"!==c.status||c.data.length<2)){e.next=15;break}return e.abrupt("continue",17);case 15:l=c.data.reverse(),a[i]=(l[1].close-l[0].open)/l[0].open;case 17:e.next=3;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](1),s.e(e.t0);case 24:return e.prev=24,s.f(),e.finish(24);case 27:return e.abrupt("return",a);case 28:case"end":return e.stop()}}),e,null,[[1,21,24,27]])}))),F.apply(this,arguments)}function T(e,t){return M.apply(this,arguments)}function M(){return M=Object(_["a"])(regeneratorRuntime.mark((function e(t,n){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(C["a"])(new Set(t)),e.next=3,R(t,n,{});case 3:return a=e.sent,e.next=6,D(t,n,a);case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}function L(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=document.querySelectorAll("table#"+e+" tr"),a=[],s=0;s<n.length;s++){for(var r=[],i=n[s].querySelectorAll("td, th"),o=0;o<i.length;o++){var c=i[o].innerText.replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ");c=c.replace(/"/g,'""'),c=c.replace(/[,$]/g,""),r.push('"'+c+'"')}a.push(r.join(t))}var l=a.join("\n"),u=e+"_"+(new Date).getTime()+".csv",_=document.createElement("a");_.style.display="none",_.setAttribute("target","_blank"),_.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(l)),_.setAttribute("download",u),document.body.appendChild(_),_.click(),document.body.removeChild(_)}function B(e){var t=Math.abs(e)>999?Math.sign(e)*(Math.abs(e)/1e3).toFixed(1)+"k":Math.sign(e)*Math.abs(e);return"$ ".concat(t)}var I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{on:{click:e.download}},[e._v(e._s(e.$t("export_as_csv")))])},U=[],V={name:"ExportTable",props:{table_id:String},computed:{},methods:{download:function(){L(this.table_id)}},mounted:function(){}},J=V,W=Object(x["a"])(J,I,U,!1,null,"6ccc5614",null),K=W.exports,Y=n("80f6"),q=n.n(Y),X=n("1723"),G=n.n(X),H={name:"AccountValue",props:{daily_nav:Array,estimate_total_cost:Number},components:{highcharts:y["Chart"],ExportTable:K},data:function(){return{timeframe:30}},filters:{Number:function(e,t){if(void 0==e)return 0;var n="number"===typeof t?{maximumFractionDigits:t,minimumFractionDigits:t}:{};return new Intl.NumberFormat("en-US",n).format(e)}},computed:{reversed_data:function(){return this.daily_nav.slice().reverse().slice(0,this.timeframe)},chartOptions:function(){return{chart:{type:"area",animation:!1},legend:{enabled:!1},title:{text:this.$i18n.t("nav_page")},plotOptions:{areaspline:{threshold:null},series:{animation:{duration:500},marker:{radius:0},fillOpacity:0,dataLabels:{enabled:!0,verticalAlign:"top",y:-20,formatter:function(){if(this.y===this.series.dataMax)return B(this.y)}}}},xAxis:{type:"datetime",dateTimeLabelFormats:{day:"%d %b %Y"},labels:{rotation:0,format:"{value:%m-%d}"}},yAxis:{min:q()(this.reversed_data,(function(e){return e[1]}))[1],max:G()(this.reversed_data,(function(e){return e[1]}))[1],title:{enabled:!1},labels:{formatter:function(){return B(this.value)},style:{fontSize:9}}},tooltip:{pointFormat:"<b>${point.y:.0f}</b>"},series:[{name:this.$i18n.t("nav"),background:"#00f",fillOpacity:.3,data:this.daily_nav.map((function(e){var t=e[0].split("-"),n=Object(f["a"])(t,3),a=n[0],s=n[1],r=n[2];return[Date.UTC(a,+s-1,r),e[1]]})).slice(-this.timeframe)}]}}},methods:{dail_pnl:function(e){return this.reversed_data[e][1]-this.reversed_data[Math.min(e+1,this.reversed_data.length-1)][1]},color:function(e){return{buy:e>0,sell:e<0}},pick_range:function(e){this.timeframe=e}},mounted:function(){}},Q=H,Z=(n("0dde"),n("b477"),Object(x["a"])(Q,$,j,!1,null,"48de7efc",null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.is_setting_mode?n("div",{staticClass:"modal",on:{click:function(t){return e.click("is_setting_mode")}}},[n("div",{staticClass:"modal-content",on:{click:function(e){e.stopImmediatePropagation()}}},[n("div",{staticClass:"setting-list"},[n("label",{staticClass:"switch"},[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.is_dark_mode},on:{click:function(t){return e.click("is_dark_mode")}}}),n("span",{staticClass:"slider round"})]),n("span",[e._v(e._s(e.$t("dark_mode")))])]),n("div",{staticClass:"setting-list"},[n("label",{staticClass:"switch"},[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.is_hide_small_balance},on:{click:function(t){return e.click("is_hide_small_balance")}}}),n("span",{staticClass:"slider round"})]),n("span",[e._v(e._s(e.$t("hide_small_balance")))])]),n("div",{staticClass:"setting-list"},[n("label",{staticClass:"switch"},[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.is_perfer_return},on:{click:function(t){return e.click("is_perfer_return")}}}),n("span",{staticClass:"slider round"})]),n("span",[e._v(e._s(e.$t("show_return_in_small_device")))])]),n("div",{staticClass:"setting-list"},[n("label",{staticClass:"switch"},[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.is_merge_wallets},on:{click:function(t){return e.click("is_merge_wallets")}}}),n("span",{staticClass:"slider round"})]),n("span",[e._v(e._s(e.$t("is_merge_wallets")))])]),n("div",{staticClass:"setting-list"},[n("label",{staticClass:"switch"},[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.is_chinese},on:{click:function(t){return e.click("is_chinese")}}}),n("span",{staticClass:"slider round"})]),n("span",[e._v(e._s(e.$t("language")))])]),n("hr"),n("div",{staticClass:"setting-list"},[n("div",[e._v(e._s(e.$t("timeframe"))+":")]),n("button",{style:{background:"30m"===e.timeframe?"rgba(170, 170, 170, 0.603)":""},on:{click:function(t){return e.change_timeframe("30m")}}},[e._v(" 30m ")]),n("button",{style:{background:"4h"===e.timeframe?"rgba(170, 170, 170, 0.603)":""},on:{click:function(t){return e.change_timeframe("4h")}}},[e._v(" 4h ")]),n("button",{style:{background:"1d"===e.timeframe?"rgba(170, 170, 170, 0.603)":""},on:{click:function(t){return e.change_timeframe("1d")}}},[e._v(" 1d ")]),n("button",{style:{background:"1w"===e.timeframe?"rgba(170, 170, 170, 0.603)":""},on:{click:function(t){return e.change_timeframe("1w")}}},[e._v(" 1w ")])]),n("div",{staticClass:"setting-list"},[n("div",[e._v(e._s(e.$t("asset_type"))+":")]),n("button",{style:{background:"all"===e.asset_type?"rgba(170, 170, 170, 0.603)":""},on:{click:function(t){return e.change_asset_type("all")}}},[e._v(" all ")]),n("button",{style:{background:"crypto"===e.asset_type?"rgba(170, 170, 170, 0.603)":""},on:{click:function(t){return e.change_asset_type("crypto")}}},[e._v(" crypto ")]),n("button",{style:{background:"stocks"===e.asset_type?"rgba(170, 170, 170, 0.603)":""},on:{click:function(t){return e.change_asset_type("stocks")}}},[e._v(" stocks ")])])])]):e._e()},ne=[],ae={name:"Setting",components:{},props:{is_setting_mode:Boolean,is_hide_small_balance:Boolean,is_dark_mode:Boolean,is_perfer_return:Boolean,is_merge_wallets:Boolean,is_chinese:Boolean,timeframe:String,asset_type:String},data:function(){return{}},methods:{click:function(e){this.$emit("update:".concat(e),!this[e])},change_timeframe:function(e){this.$emit("update:timeframe",e)},change_asset_type:function(e){this.$emit("update:asset_type",e)}}},se=ae,re=(n("8c6b"),Object(x["a"])(se,te,ne,!1,null,"695ffc92",null)),ie=re.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._v(e._s(e.$t("update_time"))+": "+e._s(e.lastUpdate))])},ce=[],le=n("5a0c"),ue=n.n(le);ue()().format();var _e={name:"Timer",props:{time:Number},data:function(){return{now:Date.now()}},computed:{lastUpdate:function(){var e=(ue()(this.now)-ue()(this.time))/1e3;return"".concat(e.toFixed(0)," ").concat(this.$i18n.t("sec_ago"))}},created:function(){var e=this;setInterval((function(){e.now=Date.now()}),1e3)}},de=_e,pe=Object(x["a"])(de,oe,ce,!1,null,null,null),he=pe.exports,fe=n("c707"),me=n.n(fe),ve=n("5606"),ge=n("2f4e"),be=n("6c56");Object(ve["e"])(d["a"]),Object(ge["a"])();var ye=Object(be["c"])(),we={name:"Main",components:{PieChart:S,AccountValue:ee,Setting:ie,Timer:he},props:{},data:function(){return{id:window.location.host,time:0,reported_total_cost:0,assets:[],assets_table:[],assets_chages:{},price_map:{},userdata:{},daily_nav:[],saved:!1,screen_width:0,is_setting_mode:!1,is_exchange_chart:!1,is_nav_mode:!1,is_hide_small_balance:"true"===localStorage.is_hide_small_balance,is_dark_mode:"true"===localStorage.is_dark_mode,is_perfer_return:"true"===localStorage.is_perfer_return,is_merge_wallets:"true"===localStorage.is_merge_wallets,is_chinese:"true"===localStorage.is_chinese,timeframe:localStorage.timeframe||"1d",asset_type:localStorage.asset_type||"crypto",sort_key:"notional_value",sort_order:1}},computed:{small_balance_threshold:function(){var e=v()(this.assets_table.map((function(e){return e.size*e.price})));return.001*e},estimate_total_cost:function(){var e=v()(this.assets_table.map((function(e){return e.size*e.entry})));return Math.max(e,this.reported_total_cost)},chart_data:function(){return this.is_exchange_chart?Object.values(this.assets_table.reduce((function(e,t){var n=t.wallet,a=t.notional_value;return e[n]={name:n,value:(e[n]?e[n].value:0)+a},e}),{})):this.is_merge_wallets?Object.values(this.assets_table.reduce((function(e,t){var n=t.asset,a=t.notional_value;return e[n]={name:n,value:(e[n]?e[n].value:0)+a},e}),{})):this.assets_table.map((function(e){return{name:e.asset,value:e.notional_value}}))}},filters:{toFixed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return void 0==e?0:e.toFixed(t)},toPrecision:function(e,t){return void 0==e||Math.abs(e)<1e-8?0:e.toPrecision(t)},Number:function(e,t){if(void 0==e)return 0;var n="number"===typeof t?{maximumFractionDigits:t,minimumFractionDigits:t}:{};return new Intl.NumberFormat("en-US",n).format(e)},Precentage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e===1/0?"Inf%":isNaN(e)?"--":"".concat((100*e||0).toFixed(t),"%")},nFormatter:function(e,t){var n=[{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e8,symbol:"B"}],a=/\.0+$|(\.[0-9]*[1-9])0+$/,s=n.slice().reverse().find((function(t){return e>=t.value}));return s?(e/s.value).toFixed(t-1).replace(a,"$1")+s.symbol:e.toFixed(t)}},methods:{save:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(be["a"])(ye,"config/".concat(e.id)),t.next=3,Object(be["e"])(n,e.userdata);case 3:e.saved=!0,setTimeout((function(){e.saved=!1}),5e3);case 5:case"end":return t.stop()}}),t)})))()},pnl:function(e){var t=e.asset,n=e.size,a=e.wallet;return this.entry_p(t,a)&&this.price_map[t]?n*(this.price_map[t]-this.entry_p(t,a)):0},pnl_return:function(e){var t=e.asset,n=e.wallet;return this.entry_p(t,n)&&this.price_map[t]?this.price_map[t]/this.entry_p(t,n)-1:0},sum_pnl:function(e){var t=this;return v()(e.map((function(e){var n=e.asset,a=e.size,s=e.price,r=e.wallet;return t.entry_p(n,r)?a*(s-t.entry_p(n,r)):0})))},today_pnl:function(){return this.daily_nav.length<2?0:v()(this.assets_table.map((function(e){var t=e.price,n=e.size;return t*n})))-this.daily_nav[this.daily_nav.length-2][1]},tagcolor:function(e){var t=["#4059FB","#FF0000","#00EE00","#F1F605","#0EE5E4","#E65CA8","#757673","#F99700"];return{backgroundColor:t[e]}},color:function(e){return{buy:e>0,sell:e<0}},should_show:function(e){return this.screen_width>500||(this.is_perfer_return?"pnl_return"===e:"pnl"===e)},sorted_icon:function(e){return e!==this.sort_key||2===this.sort_order?"":1===this.sort_order?"↓":"↑"},change_sortkey:function(e){e===this.sort_key?this.sort_order=(this.sort_order+1)%2:this.sort_key=e,this.update_assets_table()},change_tag:function(e){this.sort_order=2,void 0!==this.userdata[e]?(this.userdata[e]=(this.userdata[e]+1)%9,8==this.userdata[e]&&delete this.userdata[e]):this.$set(this.userdata,e,0)},update_assets_table:function(){var e=this,t=this.assets.map((function(t){return Object(u["a"])(Object(u["a"])({},t),{},{tag:e.userdata[e.symbol_key(t.asset,t.wallet,"tag")],price:e.price_map[t.asset],price_changes:e.assets_chages[t.asset]||t.changepercent,notional_value:e.price_map[t.asset]*t.size,entry:e.entry_p(t.asset,t.wallet),pnl:e.pnl(t),pnl_return:e.pnl_return(t)})})).filter((function(t){return"all"===e.asset_type||("stocks"===e.asset_type?"firstrade"===t.wallet:"firstrade"!==t.wallet)}));this.assets_table=b()(t,this.sort_key,1===this.sort_order?"desc":"asc")},symbol_key:function(e,t,n){return"binance"!==t?"".concat(e,"-").concat(t,"-").concat(n):"".concat(e,"-").concat(n)},entry_k:function(e,t){return"binance"!==t?"".concat(e,"-").concat(t):"".concat(e)},entry_p:function(e,t){var n="binance"!==t?"".concat(e,"-").concat(t):"".concat(e);return this.userdata[n]||0}},watch:{is_dark_mode:function(e){localStorage.is_dark_mode=e,document.documentElement.setAttribute("data-theme",e?"dark":"light")},is_hide_small_balance:function(e){localStorage.is_hide_small_balance=e},is_perfer_return:function(e){localStorage.is_perfer_return=e},is_merge_wallets:function(e){localStorage.is_merge_wallets=e},is_chinese:function(e){localStorage.is_chinese=e,this.$i18n.locale=e?"zh":"en"},timeframe:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.timeframe=t,n=this.assets.filter((function(e){return"firstrade"!==e.wallet})).map((function(e){return e.asset})),e.next=4,T(n,this.timeframe);case 4:this.assets_chages=e.sent,this.update_assets_table();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),asset_type:function(e){localStorage.asset_type=e,this.update_assets_table()}},mounted:function(){this.screen_width=window.innerWidth>0?window.innerWidth:screen.width,document.title="".concat(this.id.split(".")[0],"'s Portfolio"),document.documentElement.setAttribute("data-theme",this.is_dark_mode?"dark":"light")},created:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,n,a,s,r,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$i18n.locale=this.is_chinese?"zh":"en",t=Object(be["a"])(ye,"config/".concat(this.id)),e.next=4,Object(be["b"])(t);case 4:return n=e.sent,n.exists()&&(this.userdata=n.data(),this.update_assets_table()),a=Object(be["a"])(ye,"asset/".concat(this.id)),Object(be["d"])(a,function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.exists()){e.next=2;break}return e.abrupt("return");case 2:n=t.data(),a=n.time,s=n.data,r=n.estimate_total_cost,o.time=a,o.reported_total_cost=r,o.assets=s,o.update_assets_table();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s=Object(be["a"])(ye,"price/spot"),Object(be["d"])(s,function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.exists()){e.next=2;break}return e.abrupt("return");case 2:if(o.price_map=t.data(),o.update_assets_table(),n=o.assets.filter((function(e){return"firstrade"!==e.wallet})).map((function(e){return e.asset})),!o.should_show("price_changes")){e.next=9;break}return e.next=8,T(n,o.timeframe);case 8:o.assets_chages=e.sent;case 9:o.update_assets_table();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r=Object(be["a"])(ye,"nav/".concat(this.id)),e.next=13,Object(be["b"])(r);case 13:i=e.sent,i.exists()&&(this.daily_nav=me()(Object.entries(i.data()),(function(e){return e[0]})));case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},ke=we,xe=(n("c266"),Object(x["a"])(ke,c,l,!1,null,null,null)),Oe=xe.exports,Se={name:"App",components:{Main:Oe}},$e=Se,je=Object(x["a"])($e,i,o,!1,null,null,null),Ce=je.exports,Pe=n("9483");Object(Pe["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh."),window.location.reload()},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),a["default"].use(s["a"]),a["default"].use(r["a"]);var Ae={en:n("e088"),zh:n("8066")},Ee=new s["a"]({locale:"en",messages:Ae});new a["default"]({i18n:Ee,render:function(e){return e(Ce)}}).$mount("#app")},6:function(e,t){},"6bf4":function(e,t,n){},7:function(e,t){},"79c0":function(e,t,n){},8:function(e,t){},8066:function(e){e.exports=JSON.parse('{"switch_chart":"切換圓餅圖視角","tag":"組","asset":"資產","wallet":"錢包","size":"量","price":"價","price_changes":"漲跌率","notional_value":"現值","entry":"入場價","pnl":"損益","pnl_return":"損益率","note":"備註","total_unrealized_pnl":"總未實現損益","today_pnl":"今日損益","today_pnl_error_msg":"今日損益只在顯示所有資產時有效","update_time":"更新時間","save":"儲存","saved":"已儲存！","sec_ago":"秒前","date":"日期","nav":"總資產","nav_page":"總資產走勢","diff":"日增減","estimate_total_cost":"預估總成本","export_as_csv":"匯出","dark_mode":"深色模式","hide_small_balance":"隱藏小額資產 (小於 0.1% 總資產)","show_return_in_small_device":"在小螢幕裝置上顯示損益率","is_merge_wallets":"在圓餅圖顯示總和幣種資產","language":"切換語言 中文/英文","timeframe":"價格變化率使用時框","asset_type":"顯示的資產類型"}')},"8c6b":function(e,t,n){"use strict";n("6bf4")},9:function(e,t){},b477:function(e,t,n){"use strict";n("79c0")},be6f:function(e){e.exports=JSON.parse('{"a":{"apiKey":"AIzaSyAiOeRX2NENGgKbW0VVQ4xR0gbPuyKJ5Ks","authDomain":"binance-portfolio-153c4.firebaseapp.com","projectId":"binance-portfolio-153c4","storageBucket":"binance-portfolio-153c4.appspot.com","messagingSenderId":"694089558371","appId":"1:694089558371:web:4e512f91c263ca77ad4b56","measurementId":"G-VT35JJGKW4"}}')},c266:function(e,t,n){"use strict";n("3a7d")},e088:function(e){e.exports=JSON.parse('{"switch_chart":"Switch Chart View","tag":"Tag","asset":"Token","wallet":"Wallet","size":"Size","price":"Price","price_changes":"Chg%","notional_value":"Value","entry":"Entry","pnl":"PnL","pnl_return":"Return","note":"Note","total_unrealized_pnl":"Total Unrealized PnL","today_pnl":"Today PnL","today_pnl_error_msg":"PnL only valid when showing all asset type","update_time":"Update Time","save":"Save","saved":"Done !","sec_ago":"sec ago","date":"Date","nav":"Net Account Value","nav_page":"Net Account Value","diff":"Daily PnL","estimate_total_cost":"Estimated Total Cost","export_as_csv":"Export as CSV","dark_mode":"Dark Mode","hide_small_balance":"Hide Small Balance (less than 0.1% NAV)","show_return_in_small_device":"Show Return(%) in Small Device","is_merge_wallets":"Merge Same Coins in Wallets in Pie Chart","language":"Switch between Chinese/English","timeframe":"Time-frame used for price changes","asset_type":"Asset type to show"}')}});